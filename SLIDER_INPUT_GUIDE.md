# 滑块数值输入功能使用指南

## 功能说明

所有滑块现在都支持两种调节方式：
1. **拖动滑块**：传统的滑块拖动方式，适合快速调整
2. **直接输入数值**：点击数值框输入精确数值，适合精准调整

## 使用方法

### 方式一：拖动滑块
- 直接拖动滑块条来调整数值
- 适合快速预览效果

### 方式二：键盘输入数值
1. **点击数值框**：点击滑块右侧的数值输入框
2. **输入数值**：直接输入想要的精确数值
3. **确认输入**：
   - 按 `Enter` 键确认
   - 或点击输入框外任意位置（失去焦点）

### 方式三：键盘微调
1. **点击数值框**：使输入框获得焦点
2. **使用方向键**：
   - 按 `↑` 键：增加一个步长
   - 按 `↓` 键：减少一个步长

## 功能特性

### 1. 智能验证
- **范围限制**：自动限制在最小值和最大值之间
  - 例如：RGB调节范围是-100到100，输入150会自动调整为100
- **无效输入处理**：输入非数字时会恢复到原值
- **步长对齐**：自动根据步长进行舍入
  - 例如：模糊半径步长为0.5，输入2.3会自动调整为2.5

### 2. 实时同步
- 拖动滑块时，数值框实时更新
- 输入数值时，滑块位置实时更新
- 所有调整都会实时预览到画布上（100ms防抖）

### 3. 用户友好
- **焦点状态**：输入框获得焦点时显示蓝色边框
- **禁用状态**：无图像时输入框和滑块都会禁用
- **右对齐**：数值右对齐，方便查看和输入
- **单位显示**：清晰显示单位（%、px等）

## 应用场景

### 精准调整RGB通道
```
场景：需要将红色通道精确调整到 +25%
操作：
1. 点击"红色(R)"的数值框
2. 输入 25
3. 按 Enter 确认
```

### 精确设置亮度
```
场景：需要将亮度精确设置为 -15%
操作：
1. 点击"亮度"的数值框
2. 输入 -15
3. 按 Enter 确认
```

### 微调对比度
```
场景：当前对比度为 20%，需要微调到 22%
操作：
1. 点击"对比度"的数值框
2. 按两次 ↑ 键（每次增加1）
```

### 快速重置为0
```
场景：需要将某个参数快速重置为0
操作：
1. 点击数值框
2. 输入 0
3. 按 Enter 确认
```

## 技术实现

### 输入框特性
- **类型**：text（支持负数和小数）
- **宽度**：固定16个字符宽度
- **样式**：白色背景，灰色边框，聚焦时蓝色边框
- **验证**：失去焦点时进行验证和范围限制

### 键盘快捷键
| 按键 | 功能 |
|------|------|
| `Enter` | 确认输入并应用 |
| `↑` | 增加一个步长 |
| `↓` | 减少一个步长 |
| `Esc` | 取消输入（恢复原值） |

### 状态管理
- 使用 `useState` 管理输入框的临时值
- 使用 `isFocused` 状态防止外部更新覆盖用户输入
- 失去焦点时进行验证和同步

## 所有支持的滑块

### 基础调整
- ✅ 亮度：-100 到 100（步长：1）
- ✅ 对比度：-100 到 100（步长：1）
- ✅ 饱和度：-100 到 100（步长：1）

### RGB通道调节
- ✅ 红色(R)：-100 到 100（步长：1）
- ✅ 绿色(G)：-100 到 100（步长：1）
- ✅ 蓝色(B)：-100 到 100（步长：1）

### 滤镜效果
- ✅ 模糊：1 到 10（步长：0.5）
- ✅ 直方图均衡：0 到 100（步长：1）

## 常见问题

**Q: 输入负数怎么操作？**
A: 直接输入负号和数字，例如 `-50`

**Q: 输入小数怎么操作？**
A: 直接输入小数点和数字，例如 `2.5`（仅对支持小数步长的滑块有效）

**Q: 输入超出范围的数值会怎样？**
A: 系统会自动限制在有效范围内。例如输入 200，会自动调整为 100（最大值）

**Q: 输入错误的内容会怎样？**
A: 输入非数字内容（如字母）时，会恢复到修改前的值

**Q: 如何快速输入？**
A: 可以使用键盘快捷键：
- `Tab` 键在不同滑块之间切换
- `↑↓` 方向键微调数值
- `Enter` 键快速确认

## 提示与技巧

### 技巧1：批量调整
1. 使用 `Tab` 键快速在多个滑块之间切换
2. 依次输入各个参数的精确值
3. 最后按 `Enter` 确认

### 技巧2：对称调整
调整RGB通道时，可以输入相反的数值来实现色彩平衡：
- R: +30, B: -30（增强暖色调）
- R: -30, B: +30（增强冷色调）

### 技巧3：微调优化
1. 先用滑块快速找到大致范围
2. 再用输入框精确调整到理想数值
3. 使用方向键进行最后的微调

## 更新日志

### v0.2.0 (2025-11-05)
- ✅ 添加数值输入框功能
- ✅ 支持键盘输入精确数值
- ✅ 支持方向键微调
- ✅ 添加输入验证和范围限制
- ✅ 优化用户体验和视觉反馈

---

**项目地址**: https://github.com/herbal-rin/Fast-image-processing
**当前版本**: v0.2.0
**最后更新**: 2025-11-05

